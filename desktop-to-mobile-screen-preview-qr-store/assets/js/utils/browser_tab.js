function getCurrentTabUrl(){return new Promise((r,e)=>{try{getCurrentTab({active:!0,currentWindow:!0}).then(e=>{r(e.url)})}catch(r){e(r)}})}function getCurrentTab(){return new Promise((r,e)=>{try{queryBrowserTabs({active:!0,currentWindow:!0}).then(e=>{r(e[0])})}catch(r){e(r)}})}function queryBrowserTabs(r){return new Promise((e,t)=>{try{chrome.tabs.query(r,(function(r){e(r)}))}catch(r){t(r)}})}